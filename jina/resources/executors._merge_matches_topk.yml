jtype: BaseExecutor
with: {}
metas:
  name: merge_matches_topk
requests:
  on:
    [SearchRequest, TrainRequest, IndexRequest]:
      with:
        traversal_paths: [ 'm' ]
      drivers:
        - jtype: ReduceAllDriver {}
        - jtype: SortQL
          with:
            reverse: False
            field: 'score__value'
        - jtype: SliceQL
          with:
            start: 0
            end: 10 # is overwritten by the QueryLangDriver
    ControlRequest:
      - jtype: ControlReqDriver {}
    [DeleteRequest, UpdateRequest]:
      - jtype: RouteDriver {}