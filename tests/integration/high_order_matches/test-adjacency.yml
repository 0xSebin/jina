jtype: NumpyIndexer
with:
  index_filename: tmp2
  metric: euclidean
metas:
  name: test2
  workspace: test-index-file
requests:
  on:
    ControlRequest:
      - jtype: ControlReqDriver {}
    SearchRequest:
      - jtype: VectorSearchDriver {}  # first match on the doc
      - jtype: SliceQL
        with:
          start: 0
          end: 5
          traversal_paths: ['m']
      - jtype: VectorFillDriver
        with:
          traversal_paths: ['r', 'm']
      - jtype: VectorSearchDriver  # then go for the first-degree matches
        with:
          traversal_paths: ['m']
      - jtype: SliceQL
        with:
          start: 0
          end: 5
          traversal_paths: ['m', 'mm']
      - jtype: VectorFillDriver
        with:
          traversal_paths: ['r', 'm', 'mm', 'mmm']
    IndexRequest:
      - jtype: ExcludeQL
        with:
          fields:
            - buffer
            - chunks
      - jtype: VectorIndexDriver {}
